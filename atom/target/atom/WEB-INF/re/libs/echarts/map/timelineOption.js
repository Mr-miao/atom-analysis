var dataMap = {};
function dataFormatter(obj) {
    var pList = ['STEP1','\nSTEP2','STEP3','\nSTEP4','STEP5','\nSTEP6'];
    var temp;
    var max = 0;
    for (var year = 2002; year <= 2011; year++) {
        temp = obj[year];
        for (var i = 0, l = temp.length; i < l; i++) {
            max = Math.max(max, temp[i]);
            obj[year][i] = {
                name : pList[i],
                value : temp[i]
            }
        }
        obj[year+'max'] = Math.floor(max/100) * 100;
    }
    return obj;
}

function dataMix(list) {
    var mixData = {};
    for (var i = 0, l = list.length; i < l; i++) {
        for (var key in list[i]) {
            if (list[i][key] instanceof Array) {
                mixData[key] = mixData[key] || [];
                for (var j = 0, k = list[i][key].length; j < k; j++) {
                    mixData[key][j] = mixData[key][j] 
                                      || {name : list[i][key][j].name, value : []};
                    mixData[key][j].value.push(list[i][key][j].value);
                }
            }
        }
    }
    return mixData;
}

dataMap.dataGDP = dataFormatter({
    //max : 60000,
    2011:[12, 15, 23, 13, 27, 0],
	2010:[11, 16, 22, 23, 28, 0],
	2009:[10, 18, 3, 15, 24, 0],
	2008:[13, 15, 3, 14, 21, 0],
	2007:[12, 14, 23, 13, 25, 0],
	2006:[14, 15, 22, 23, 19, 0],
	2005:[15, 19, 1, 16, 35, 0],
	2004:[12, 15, 24, 21, 60, 0],
	2003:[14, 16, 3, 20, 35, 0],
	2002:[13, 5, 1, 19, 45, 0]
});

dataMap.dataPI = dataFormatter({
    //max : 60000,
    2011:[12, 25, 13, 23, 15, 0],
	2010:[11, 5, 3, 21, 25, 0],
	2009:[10, 35, 23, 20, 15, 0],
	2008:[13, 15, 13, 23, 25, 0],
	2007:[12, 7, 8, 28, 23, 0],
	2006:[14, 8, 15, 23, 27, 0],
	2005:[15, 9, 3, 22, 24, 0],
	2004:[12, 15, 14, 23, 25, 0],
	2003:[14, 11, 3, 24, 22, 0],
	2002:[13, 16, 3, 27, 25, 0]
});

dataMap.dataSI = dataFormatter({
    //max : 60000,
    2011:[12, 5, 13, 21, 24, 2],
	2010:[11, 6, 3, 20, 25, 3],
	2009:[10, 3, 15, 23, 23, 4],
	2008:[13, 5, 14, 20, 22, 5],
	2007:[12, 7, 13, 21, 25, 3],
	2006:[14, 5, 20, 20, 21, 2],
	2005:[15, 9, 19, 21, 25, 4],
	2004:[12, 10, 13, 22, 23, 4],
	2003:[14, 5, 13, 23, 22, 1],
	2002:[13, 4, 23, 20, 25, 2]
});

dataMap.dataTI = dataFormatter({
    //max : 60000,
    2011:[19, 4, 3, 21, 12, 2],
	2010:[12, 5, 4, 23, 15, 3],
	2009:[14, 2, 3, 22, 11, 4],
	2008:[23, 5, 7, 13, 16, 2],
	2007:[8, 3, 2, 15, 17, 5],
	2006:[14, 1, 1, 17, 15, 6],
	2005:[16, 5, 3, 14, 14, 3],
	2004:[17, 8, 5, 20, 19, 4],
	2003:[18, 5, 9, 24, 25, 2],
	2002:[14, 9, 13, 23, 21, 2]
});

dataMap.dataEstate = dataFormatter({
    //max : 60000,
    2011:[22, 5, 4, 21, 21, 1],
	2010:[21, 3, 3, 20, 22, 2],
	2009:[20, 4, 2, 18, 23, 0],
	2008:[23, 5, 4, 17, 24, 0],
	2007:[22, 3, 4, 19, 25, 3],
	2006:[24, 7, 5, 24, 24, 3],
	2005:[25, 6, 6, 25, 23, 4],
	2004:[22, 6, 5, 22, 22, 5],
	2003:[24, 7, 6, 20, 28, 4],
	2002:[33, 7, 4, 14, 29, 2]
});

dataMap.dataFinancial = dataFormatter({
    //max : 60000,
    2011:[32, 5, 6, 21, 19, 6],
	2010:[31, 7, 6, 23, 21, 7],
	2009:[30, 7, 3, 22, 25, 8],
	2008:[13, 8, 6, 20, 20, 4],
	2007:[32, 8, 3, 23, 21, 9],
	2006:[24, 9, 6, 20, 25, 12],
	2005:[25, 9, 5, 23, 20, 12],
	2004:[32, 5, 3, 22, 23, 22],
	2003:[34, 4, 5, 21, 20, 6],
	2002:[23, 4, 5, 23, 25, 12]
});



dataMap.dataGDP_Estate = dataMix([dataMap.dataEstate, dataMap.dataGDP]);
