package org.apache.jsp.WEB_002dINF.pages.generated.rolem;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.nantian.atom.generated.po.rolem.User;

public final class Branch_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List _jspx_dependants;

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.AnnotationProcessor _jsp_annotationprocessor;

  public Object getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_annotationprocessor = (org.apache.AnnotationProcessor) getServletConfig().getServletContext().getAttribute(org.apache.AnnotationProcessor.class.getName());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody.release();
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\n');
      out.write('\n');
      out.write('\n');

	String path = request.getContextPath();
	String basePath = request.getScheme() + "://"
			+ request.getServerName() + ":" + request.getServerPort()
			+ path + "/";
	String contextPath = basePath + "resources/";

      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"zh-CN\">\n");
      out.write("<head>\n");
      out.write("<!-- 标准的meta信息 -->\n");
      out.write("<meta charset=\"utf-8\">\n");
      out.write("<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n");
      out.write("<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n");
      out.write("<meta name=\"renderer\" content=\"webkit\">\n");
      out.write("<!-- 定义基准路径的全局变量 -->\n");
      out.write("<script type=\"text/javascript\">\n");
      out.write("\tvar webPath = '");
      out.print(basePath);
      out.write("';\n");
      out.write("</script>\n");
      out.write("<script src=\"");
      out.print(basePath );
      out.write("re/libs/bootstrap/js/jquery.min.js\"></script>\n");
      out.write("<script src=\"");
      out.print(basePath );
      out.write("re/libs/bootstrap/js/bootstrap.min.js\"></script>\n");
      out.write("<script src=\"");
      out.print(basePath );
      out.write("re/libs/layer/layer.js\"></script>\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(basePath );
      out.write("re/libs/utils/util-required.js\"></script>\n");
      out.write("<!-- 标准的meta信息  end-->\n");
      out.write("\n");
      out.write("<!-- 标题 -->\n");
      out.write("<title>机构管理</title>\n");
      out.write("\n");
      out.write("\n");
      out.write("<!-- style声明，仅仅只是对当前页面的样式设置，否则请使用公共style表 -->\n");
      out.write("<style>\n");
      out.write("#auth-list span {\n");
      out.write("\tcolor: #444 !important;\n");
      out.write("}\n");
      out.write("\n");
      out.write("textarea {\n");
      out.write("\twidth: 100%;\n");
      out.write("\trows: 2;\n");
      out.write("\tresize: none;\n");
      out.write("}\n");
      out.write("</style>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    \tvar pagerUrl = webPath+\"rolem/branch/_pager.html\";\n");
      out.write("    \tvar queryByIdUrl = webPath + \"rolem/branch/_findById.html\";\n");
      out.write("    \t///var queryByWhereUrl =webPath+\"rolem/branch/_pager.html\";\n");
      out.write("    \tvar findAllBranchUrl =webPath+\"rolem/branch/_findAll.html\";\n");
      out.write("    \tvar updateUrl = webPath + \"rolem/branch/_update.html\";\n");
      out.write("    \tvar addUrl = webPath + \"rolem/branch/_add.html\";\n");
      out.write("    \tvar deleteBranchUrl = webPath + \"rolem/branch/_deleteByBranchId.html\";\n");
      out.write("    \tvar excelModuleUrl = webPath + \"rolem/branch/_excelModule.html\";\n");
      out.write("/*     \tvar exportExcelUrl = webPath + \"rolem/branch/_excelExport.html\";\n");
      out.write("    \tvar importExcelUrl = webPath + \"rolem/branch/_excelImport.html\"; */\n");
      out.write("    \tvar genFuncMenuUrl = webPath + \"_menu/genFuncMenu.html?trn=branchServiceImpl\";\n");
      out.write("    \tvar findAllUserUrl = webPath+\"rolem/user/_findAll.html\";\n");
      out.write("    \tvar userContactNumberUrl = webPath+\"rolem/user/_findByUserName.html\";\n");
      out.write("    \tvar findByUserIdUrl = webPath+\"rolem/user/_findById.html\";\n");
      out.write("    \tvar findAllEditUrl = webPath+\"rolem/branch/_findAllEdit.html\";\n");
      out.write("    \tvar validateSessionBranchUrl = webPath+\"rolem/branch/_validateSessionBranch.html\";\n");
      out.write("    \tvar editSessionCheckUrl = webPath+\"rolem/branch/_editSessionCheck.html\";\n");
      out.write("    \tvar tbJsonItems = null;\n");
      out.write("    \t\n");
      out.write("\t\tvar showTbData = function(data, tbDom, reloadPagerLan, ajaxUrl, paramUrl){\n");
      out.write("\t        if(data.data==null || data.data==''){\n");
      out.write("\t        \tvar noRecord = '<tr>'+\n");
      out.write("\t                        \t'<th colspan=\"10\" style=\"text-align:center;\">暂无记录！</th>'+\n");
      out.write("\t                            '</tr>';\n");
      out.write("\t        \t$(\"#tb-data tbody\").html(noRecord);\n");
      out.write("\t        \t$('#update-batch').unbind('click');//取消批量编辑按钮的单击事件\n");
      out.write("\t        }else{\n");
      out.write("\t        \ttbJsonItems = data.data;\n");
      out.write("\t        \tvar htm = '';\n");
      out.write("\t        \t$(\"#tb-data tbody\").html(htm);\n");
      out.write("\t        \t$(data.data).each(function(index, ele){\n");
      out.write("\t        \t\tvar branchId=ele.branchParentId;\n");
      out.write("\t        \t\tvar branchUserId=ele.branchContactPeople;\n");
      out.write("\t        \t\tvar branchParentName='';\n");
      out.write("\t        \t\tvar branchContactPeople='';\n");
      out.write("\t        \t\t//根据id查找联系人名字\n");
      out.write("\t        \t\t//if(branchUserId!=null){\n");
      out.write("\t        \t\t\tgoAjax(findByUserIdUrl,{recordId:branchUserId},function(data){\n");
      out.write("\t\t        \t\t\t$(data.data).each(function(index,ele2){\n");
      out.write("\t\t        \t\t\t\tbranchContactPeople=ele2.userName;\n");
      out.write("\t\t        \t\t\t});\n");
      out.write("\t\t        \t\t\t//显示机构信息\t        \t\t\n");
      out.write("\t\t\t        \t\tif(branchId==0){\n");
      out.write("\t\t\t        \t\t\thtm = '<tr>'+\n");
      out.write("\t\t\t\t\t\t\t\t'<td><input type=\"checkbox\" name=\"check-data\" value=\"'+notNull(ele.branchId)+'\"></td>'+\n");
      out.write("\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchNo\"])+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchName\"])+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t    '<td>'+notNull(branchContactPeople)+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchContactNumber\"])+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t    '<td>'+\"该机构为顶级机构\"+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchAddr\"])+'</td>'+\n");
      out.write("\n");
      out.write("\t\t\t                    '</tr>';\n");
      out.write("\t\t\t\t\t\t\t    $(\"#tb-data\").append(htm);\n");
      out.write("\t\t\t        \t\t}else{\n");
      out.write("\t\t\t        \t\t\tgoAjax(queryByIdUrl,{recordId:branchId},function(data){\n");
      out.write("\t\t\t\t        \t\t    $(data.data).each(function(index, ele1){\n");
      out.write("\t\t\t\t        \t\t\t\tbranchParentName=ele1.branchName;\n");
      out.write("\t\t\t\t        \t\t\t});\n");
      out.write("\t\t\t        \t\t    \thtm = '<tr>'+\n");
      out.write("\t\t\t\t\t\t\t\t\t'<td><input type=\"checkbox\" name=\"check-data\" value=\"'+notNull(ele.branchId)+'\"></td>'+\n");
      out.write("\t\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchNo\"])+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchName\"])+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t\t    '<td>'+notNull(branchContactPeople)+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchContactNumber\"])+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t\t    '<td>'+branchParentName+'</td>'+\n");
      out.write("\t\t\t\t\t\t\t\t    '<td>'+notNull(ele[\"branchAddr\"])+'</td>'+\n");
      out.write("\n");
      out.write("\t\t\t\t                    '</tr>';\n");
      out.write("\t\t\t\t\t\t\t\t    $(\"#tb-data\").append(htm);\n");
      out.write("\t\t\t\t        \t\t});\n");
      out.write("\t\t\t        \t\t}\n");
      out.write("\t\t        \t\t});\n");
      out.write("\t        \t\t//}\n");
      out.write("\t\t\t\t});\n");
      out.write("\t        \tif(reloadPagerLan){\n");
      out.write("\t        \t\t//添加分页栏\n");
      out.write("\t\t\t\t\tgenPager(data.pager, ajaxUrl, paramUrl, null);\n");
      out.write("\t        \t}\n");
      out.write("\t        }\n");
      out.write("\t\t}\n");
      out.write("\t  \t//根据联系人加载联系电话\n");
      out.write("\t\tfunction getValue(val){\n");
      out.write("\t\t\tif(val==\"\"){\n");
      out.write("\t\t\t\t$('#branchContactNumber').val(''); \n");
      out.write("\t\t\t\t$('#branchContactNumber-edit').val(''); \n");
      out.write("\t\t\t}else{\n");
      out.write("\t\t\t//去用户表表查用户联系电话\n");
      out.write("\t\t\tgoAjax(findByUserIdUrl,{recordId:val},function(data){\n");
      out.write("\t\t\t\tif(data.flag==0){\n");
      out.write("\t\t\t\t\t$(data.data).each(function(index,ele){\n");
      out.write("\t\t\t\t\t\t$('#branchContactNumber').val(ele.userPhone);\n");
      out.write("\t\t\t\t\t\t$('#branchContactNumber-edit').val(ele.userPhone);\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t}else{\n");
      out.write("\t\t\t\t\talert(\"未找到用户id为： \"+val+\"的对象\");\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t});\n");
      out.write("\t\t\t}\n");
      out.write("\t\t}\n");
      out.write("\t  \t//过滤后的机构下拉\n");
      out.write("\t  \tgenBranchEditSelect(findAllEditUrl,{},\"branchParentId-edit\");\n");
      out.write("\t\tgenBranchEndSelect(findAllBranchUrl,{},\"branchParentId\");\n");
      out.write("\t\tgenUserSelect(findAllUserUrl,{},\"branchContactPeople\");\n");
      out.write("\t\tgenUserSelect(findAllUserUrl,{},\"branchContactPeople-edit\");\n");
      out.write("\t  \t//判断是所选上否为\n");
      out.write("    \t$(function(){\n");
      out.write("    \t\t//根据权限改变功能菜单\n");
      out.write("    \t\tgoAjax(genFuncMenuUrl,{},function(response){\n");
      out.write("    \t\t\tgenFuncMenu(response.data);\n");
      out.write("    \t\t\t//启用默认框架的初始化方式\n");
      out.write("        \t\tenableDefaultFramework('700px', '400px');\n");
      out.write("    \t\t\t$('#add').unbind('click');\n");
      out.write("    \t\t\t$('#add').click(function(){\n");
      out.write("    \t\t\t\t$('#edit-win').attr('type','add');\n");
      out.write("    \t\t\t\t$('#edit-win input, #edit-win textarea, #edit-win select').removeAttr('disabled');\n");
      out.write("    \t\t\t\t//清空下拉搜索\n");
      out.write("    \t\t\t\t$('#edit-win').find('div .selectbox').text('');\n");
      out.write("    \t\t\t\t$('#edit-win .tinyselect').removeClass('detailTinyselect');\n");
      out.write("    \t\t\t\t$('.branchContactPeople').find('option').each(function(){\n");
      out.write("    \t\t\t\t\t$(this).attr('selected',false);\n");
      out.write("    \t\t\t\t});\n");
      out.write("    \t\t\t\tgoAjax(validateSessionBranchUrl,{},function(data){\n");
      out.write("    \t\t\t\t\tif(data.flag==0){\n");
      out.write("    \t\t\t\t\t\tif(data.ifLeaf==1){\n");
      out.write("    \t\t\t\t\t\t\talert('当前操作用户所属机构为末级机构，不能执行新增机构操作');\n");
      out.write("    \t\t\t\t\t\t}else{\n");
      out.write("    \t\t\t\t\t\t\t//打开编辑窗口\n");
      out.write("    \t\t    \t\t\t\topenWindow('新增', '700px', '400px', '#edit-win');\n");
      out.write("    \t\t\t\t\t\t}\n");
      out.write("    \t\t\t\t\t}else{\n");
      out.write("    \t\t\t\t\t\talert('验证失败！');\n");
      out.write("    \t\t\t\t\t}\n");
      out.write("    \t\t\t\t});\n");
      out.write("    \t\t\t});\n");
      out.write("    \t\t\t$('#detail').unbind('click');\n");
      out.write("    \t\t\t$('#update').unbind('click');\n");
      out.write("    \t\t\t//编辑详情按钮触发事件\n");
      out.write("        \t\t$('#update,#detail').click(function(){\n");
      out.write("        \t\t\tif($(this).attr('id')=='update'){\n");
      out.write("        \t\t\t\t$('#edit-win-edit').attr('type','update')\n");
      out.write("        \t\t\t}else{\n");
      out.write("        \t\t\t\t$('#edit-win-edit').attr('type','detail');\n");
      out.write("        \t\t\t}\n");
      out.write("        \t\t\t//清空下拉搜索框\n");
      out.write("        \t\t\t$('#edit-win-edit .branchParent .itemcontainer').find('li').each(function(){\n");
      out.write("        \t\t\t\t$(this).removeClass('selected');\n");
      out.write("        \t\t\t});\n");
      out.write("        \t\t\t$('#edit-win-edit .contactPeople .itemcontainer').find('li').each(function(){\n");
      out.write("        \t\t\t\t$(this).removeClass('selected');\n");
      out.write("        \t\t\t}); \n");
      out.write("        \t\t\t//清空下拉框\n");
      out.write("        \t\t\t$('.branchParentId-edit').find('option').each(function(){\n");
      out.write("        \t\t\t\t//$(this).removeClass('selected');\n");
      out.write("        \t\t\t\t$(this).attr('selected',false);\n");
      out.write("        \t\t\t});\n");
      out.write("        \t\t\t$('.branchContactPeople-edit').find('option').each(function(){\n");
      out.write("        \t\t\t\t//$(this).removeClass('selected');\n");
      out.write("        \t\t\t\t$(this).attr('selected',false);\n");
      out.write("        \t\t\t});\n");
      out.write("        \t\t\t$('#edit-win-edit .branchParent .selectbox').text('');\n");
      out.write("        \t\t\t$('#edit-win-edit .contactPeople .selectbox').text('');\n");
      out.write("        \t\t\t//得到行记录的id值\n");
      out.write("        \t\t\tvar recordId = $(\"input[name='check-data']:checked\").val();\n");
      out.write("        \t\t\tvar recordIds = $(\"input[name='check-data']:checked\").length;\n");
      out.write("        \t\t\tif(recordId==undefined||recordIds>1){\n");
      out.write("        \t\t\t\talert(\"请先选择一条记录\");\n");
      out.write("        \t\t\t\treturn false;\n");
      out.write("        \t\t\t}\n");
      out.write("        \t\t\tvar branchParentId=0;\n");
      out.write("        \t\t\tgoAjax(queryByIdUrl,{recordId:recordId},function(data){\n");
      out.write("        \t\t\t\tif(data.flag==0){\n");
      out.write("        \t\t\t\t\t//遍历data对象\n");
      out.write("        \t\t\t\t\tfor(var item in data.data){\n");
      out.write("        \t\t\t\t\t\t if(data.data[\"branchParentId\"]==0){\n");
      out.write("        \t\t\t\t\t\t\t branchParentId=1;\n");
      out.write("        \t\t\t\t\t\t }\n");
      out.write("        \t\t\t\t\t\t if(item==\"branchParentId\"){\n");
      out.write("        \t\t\t\t\t\t\t//过滤掉当前机构\n");
      out.write("        \t\t\t\t\t\t\t$('#edit-win-edit .branchParent .itemcontainer').find('li[data-value=\"'+recordId+'\"]').css(\"display\",\"none\");\n");
      out.write("        \t\t\t\t\t\t\t//下拉搜索回显\n");
      out.write("        \t\t\t\t\t\t\t$('#edit-win-edit .branchParent ul').find('li').each(function(i,e){\n");
      out.write("        \t\t\t\t\t\t\t\t$(e).removeClass('selected');\n");
      out.write("        \t\t\t\t\t\t\t\tif($(e).attr('data-value')==data.data[\"branchParentId\"]){\n");
      out.write("        \t\t\t\t\t\t\t\t\t$(e).addClass('selected');\n");
      out.write("        \t\t\t\t\t\t\t\t\t$('#edit-win-edit .branchParent').find('div .selectbox').text($(e).text());\n");
      out.write("        \t\t\t\t\t\t\t\t} \n");
      out.write("        \t\t\t\t\t\t\t});\n");
      out.write("        \t\t\t\t\t\t\t$('.branchParentId-edit  option[value=\"'+data.data[\"branchParentId\"]+'\"]').attr(\"selected\",true);\n");
      out.write("        \t\t\t\t\t\t}else if(item==\"branchContactPeople\"){\n");
      out.write("       \t\t\t\t\t\t\t\t$('#edit-win-edit .contactPeople ul').find('li').each(function(i,e){\n");
      out.write("           \t\t\t\t\t\t\t\t$(e).removeClass('selected');\n");
      out.write("           \t\t\t\t\t\t\t\tif($(e).attr('data-value')==data.data[\"branchContactPeople\"]){\n");
      out.write("           \t\t\t\t\t\t\t\t\t$(e).addClass('selected');\n");
      out.write("           \t\t\t\t\t\t\t\t\t$('#edit-win-edit .contactPeople').find('div .selectbox').text($(e).text());\n");
      out.write("           \t\t\t\t\t\t\t\t}\n");
      out.write("           \t\t\t\t\t\t\t});\n");
      out.write("           \t\t\t\t\t\t\t$('.branchContactPeople-edit  option[value=\"'+data.data[\"branchContactPeople\"]+'\"]').attr(\"selected\",true);\n");
      out.write("        \t\t\t\t\t\t}\n");
      out.write("        \t\t\t\t\t\t//通过id设值只能是input:text, input:password, select, textarea，对于其他的要单独处理\n");
      out.write("        \t\t\t\t\t\t\n");
      out.write("        \t\t\t\t\t\telse if($('[id=\"'+item+'-edit\"]').length==1){\n");
      out.write("        \t\t\t\t\t\t\t$('[id=\"'+item+'-edit\"]').val(data.data[item]);\n");
      out.write("        \t\t\t\t\t\t}else if($('[id=\"'+item+'-edit\"]').length==0){\n");
      out.write("        \t\t\t\t\t\t\t//其他类型的表单组件\n");
      out.write("        \t\t\t\t\t\t\tif($(\"input:checkbox[name='\"+item+\"']\").length>0){//表单类型为checkbox\n");
      out.write("        \t\t\t\t\t\t\t\t$(\"input:checkbox[name='\"+item+\"']\").each(function(index, ele){\n");
      out.write("        \t\t\t\t\t\t\t\t\tif($(ele).val()==data.data[item]){\n");
      out.write("        \t\t\t\t\t\t\t\t\t\t$(ele).prop(\"checked\",true);\n");
      out.write("        \t\t\t\t\t\t\t\t\t}\n");
      out.write("        \t\t\t\t\t\t\t\t});\n");
      out.write("        \t\t\t\t\t\t\t}\n");
      out.write("        \t\t\t\t\t\t}else if($('[id=\"'+item+'-edit\"]').length>0){\n");
      out.write("        \t\t\t\t\t\t\talert('页面错误，id='+item+'重复');\n");
      out.write("        \t\t\t\t\t\t\treturn false;\n");
      out.write("        \t\t\t\t\t\t}\n");
      out.write("        \t\t\t\t\t}\n");
      out.write("        \t\t\t\t\t//打开编辑窗口\n");
      out.write("    \t\t\t\t\t\tif($('#edit-win-edit').attr('type')==\"detail\"){\n");
      out.write("    \t\t\t\t\t\t\t//禁用下拉搜索\n");
      out.write("    \t\t\t\t\t\t\t$('#edit-win-edit .tinyselect').addClass('detailTinyselect');\n");
      out.write("    \t\t\t\t\t\t\t//禁用所有表单\n");
      out.write("    \t\t\t\t\t\t\t$('#edit-win-edit input, #edit-win-edit textarea, #edit-win-edit select').attr('disabled','disabled');\n");
      out.write("    \t\t\t\t\t\t\t//$('#edit-win button').attr('disabled','disabled');\n");
      out.write("    \t\t\t\t\t\t\t//打开编辑窗口\n");
      out.write("            \t\t\t\t\topenWindow('详情', '700px', '400px', \"#edit-win-edit\");\n");
      out.write("    \t\t\t\t\t\t}else{\n");
      out.write("    \t\t\t\t\t\t\tgoAjax(editSessionCheckUrl,{},function(data){\n");
      out.write("    \t\t\t\t\t\t\t\tif(data.flag==0){\n");
      out.write("    \t\t\t\t\t\t\t\t\tif(recordId==data.branchId){\n");
      out.write("    \t\t\t\t\t\t\t\t\t\t$('#edit-win-edit .branchParent').find('.tinyselect').addClass('detailTinyselect');\n");
      out.write("    \t\t\t\t\t\t\t\t\t\t//解禁除select外的所有表单\n");
      out.write("    \t   \t\t\t\t\t\t\t\t    $('#edit-win-edit select').attr('disabled','disabled');\n");
      out.write("    \t        \t\t\t\t\t\t\t$('#edit-win-edit input, #edit-win-edit textarea').removeAttr('disabled');\n");
      out.write("    \t\t\t\t\t\t\t\t\t}\n");
      out.write("    \t\t\t\t\t\t\t\t}\n");
      out.write("    \t\t\t\t\t\t\t});\n");
      out.write("    \t\t\t\t\t\t\tif(branchParentId==1){\n");
      out.write("    \t\t\t\t\t\t\t\t$('#edit-win-edit .branchParent').find('.tinyselect').addClass('detailTinyselect');\n");
      out.write("   \t\t\t\t\t\t\t\t\talert('该机构是顶级机构,该上级机构和是否为末级机构将被禁止编辑!');\n");
      out.write("   \t\t\t\t\t\t\t\t\t$('#edit-win-edit .branchParent').find('.tinyselect').addClass('detailTinyselect');\n");
      out.write("   \t\t\t\t\t\t\t\t    //解禁除select外的所有表单\n");
      out.write("   \t\t\t\t\t\t\t\t    $('#edit-win-edit select').attr('disabled','disabled');\n");
      out.write("        \t\t\t\t\t\t\t$('#edit-win-edit input, #edit-win-edit textarea').removeAttr('disabled');\n");
      out.write("    \t\t\t\t\t\t\t}else{\n");
      out.write("    \t\t\t\t\t\t\t\t$('#edit-win-edit .branchParent').find('.tinyselect .item').each(function(){\n");
      out.write("    \t\t\t\t\t\t\t\t\t if($(this).attr('data-value')==0){\n");
      out.write("    \t\t\t\t\t\t\t\t\t\t $(this).css('display','none');\n");
      out.write("    \t\t\t\t\t\t\t\t\t }\n");
      out.write("    \t\t\t\t\t\t\t\t});\n");
      out.write("    \t\t\t\t\t\t\t\t//解禁所有表单\n");
      out.write("        \t\t\t\t\t\t\t$('#edit-win-edit input, #edit-win-edit textarea, #edit-win-edit select').removeAttr('disabled');\n");
      out.write("        \t\t\t\t\t\t\t$('#edit-win-edit .branchParent').find('.tinyselect').removeClass('detailTinyselect');\n");
      out.write("        \t\t\t\t\t\t\t\n");
      out.write("    \t\t\t\t\t\t\t}\n");
      out.write("    \t\t\t\t\t\t\t//解禁下拉搜索\n");
      out.write("    \t\t\t\t\t\t\t$('#edit-win-edit .contactPeople').find('.tinyselect').removeClass('detailTinyselect');\n");
      out.write("    \t\t\t\t\t\t\t\n");
      out.write("    \t\t\t\t\t\t\t//$('#edit-win button').attr('disabled','disabled');\n");
      out.write("    \t\t\t\t\t\t\t//打开编辑窗口\n");
      out.write("            \t\t\t\t\topenWindow('编辑', '700px', '400px', \"#edit-win-edit\");\n");
      out.write("    \t\t\t\t\t\t}\n");
      out.write("        \t\t\t\t}else{\n");
      out.write("        \t\t\t\t\talert('数据查询失败');\n");
      out.write("        \t\t\t\t}\n");
      out.write("        \t\t\t});\n");
      out.write("        \t\t});\n");
      out.write("    \t\t\t//新增提交按钮\n");
      out.write("    \t\t\t$('#edit-win-btn').unbind('click');\n");
      out.write("    \t\t\t$('#edit-win-btn').click(function(){\n");
      out.write("    \t\t\t\t//表单验证\n");
      out.write("    \t\t\t\tvar vflag = validateAnt('#edit-win');\n");
      out.write("    \t\t\t\tif(!vflag){\n");
      out.write("    \t\t\t\t\treturn false;\n");
      out.write("    \t\t\t\t}\n");
      out.write("    \t\t\t\tvar branchNo=$('#branchNo').val();\n");
      out.write("    \t\t\t\tvar reg=/^[A-Za-z0-9]{5,10}$/;\n");
      out.write("    \t\t\t\tif(!reg.test(branchNo)){\n");
      out.write("    \t\t\t\t\tlayer.tips('机构编号只能是数字、字母或数字字母组合，且长度在10以内','#branchNo',{\n");
      out.write("  \t\t\t\t\t\t  tips: [1, '#cc0000']\n");
      out.write("  \t\t\t\t\t    });\n");
      out.write("    \t\t\t\t\treturn false;\n");
      out.write("    \t\t\t\t}\n");
      out.write("    \t\t\t\tif($('#edit-win .branchParent').find('.selectbox').text()==''){\n");
      out.write("    \t\t\t\t\tlayer.tips('上级机构不能为空','#edit-win .branchParent .selectbox',{\n");
      out.write("    \t\t\t\t\t\t  tips: [1, '#cc0000']\n");
      out.write("    \t\t\t\t\t});\n");
      out.write("    \t\t\t\t}else{\n");
      out.write("    \t\t\t\t\t//生成请求参数\n");
      out.write("        \t\t\t\tvar paramAjax = genReqData('#edit-win');\n");
      out.write("        \t\t\t\t\n");
      out.write("        \t\t\t    goAjax(addUrl, paramAjax, function(data){\n");
      out.write("        \t\t\t\t\tif(data.flag!=0){\n");
      out.write("        \t\t\t\t\t\talert(data.msg);\n");
      out.write("        \t\t\t\t\t}else{\n");
      out.write("        \t\t\t\t\t\talert('操作成功');\n");
      out.write("        \t\t\t\t\t\tlayer.closeAll();\n");
      out.write("        \t\t\t\t\t\t//刷新表数据\n");
      out.write("        \t\t\t\t\t\twindow.location.reload();\n");
      out.write("        \t\t\t\t\t}\n");
      out.write("        \t\t\t\t\t\n");
      out.write("        \t\t\t\t});\n");
      out.write("    \t\t\t\t}\n");
      out.write("    \t\t\t\t\n");
      out.write("    \t\t\t});\n");
      out.write("        \t\t//编辑详情提交按钮\n");
      out.write("        \t\t$(\"#edit-win-submit\").click(function(){\n");
      out.write("        \t\t\tif($('#edit-win-edit').attr('type')=='detail'){//详情是关闭弹框\n");
      out.write("        \t\t\t\tlayer.closeAll();\n");
      out.write("        \t\t\t}else{\n");
      out.write("        \t\t\t\t//表单验证\n");
      out.write("            \t\t\tvar vflag = validateAnt('#edit-win-edit');\n");
      out.write("            \t\t\tif(!vflag){\n");
      out.write("            \t\t\t\treturn false;\n");
      out.write("            \t\t\t}\n");
      out.write("            \t\t\t//判断机构编号的长度和值\n");
      out.write("            \t\t\tvar branchNo=$('#branchNo-edit').val();\n");
      out.write("        \t\t\t\tvar reg=/^[A-Za-z0-9]{5,10}$/;\n");
      out.write("        \t\t\t\tif(!reg.test(branchNo)){\n");
      out.write("        \t\t\t\t\tlayer.tips('机构编号只能是数字、字母或数字字母组合，且长度在10以内','#branchNo-edit',{\n");
      out.write("      \t\t\t\t\t\t  tips: [1, '#cc0000']\n");
      out.write("      \t\t\t\t\t    });\n");
      out.write("        \t\t\t\t\treturn false;\n");
      out.write("        \t\t\t\t}\n");
      out.write("            \t\t\t//编辑执行更新机构请求\n");
      out.write("            \t\t\tvar paramAjax = genReqData(\"#edit-win-edit\");\n");
      out.write("            \t\t\tgoAjax(updateUrl, paramAjax, function(data){\n");
      out.write("                \t\t\tif(data.flag!=0){\n");
      out.write("                \t\t\t\talert(data.msg);\n");
      out.write("                \t\t\t}else{\n");
      out.write("                \t\t\t\talert('操作成功');\n");
      out.write("                \t\t\t\tlayer.closeAll();\n");
      out.write("                \t\t\t\t//刷新表数据\n");
      out.write("                \t\t\t\twindow.location.reload();\n");
      out.write("                \t\t\t}\n");
      out.write("                \t\t});\n");
      out.write("        \t\t\t}\n");
      out.write("        \t\t\t\n");
      out.write("        \t\t});\n");
      out.write("        \t\tonUpdateBatchClick();//监听批量编辑按钮\n");
      out.write("        \t\t\n");
      out.write("    \t\t\t$(\"#delete\").unbind(\"click\");\n");
      out.write("    \t\t\t$(\"#delete\").click(function(){\n");
      out.write("    \t\t\t\t//得到行记录的id值\n");
      out.write("    \t\t\t\tvar recordId = $(\"input[name='check-data']:checked\").val();\n");
      out.write("    \t\t\t\tif(recordId==undefined){\n");
      out.write("    \t\t\t\t\talert(\"请先选择要删除的数据\");\n");
      out.write("    \t\t\t\t}else{\n");
      out.write("    \t\t\t\t if (!confirm(\"确认要删除？\")) {\n");
      out.write("    \t\t\t            return false;\n");
      out.write("    \t\t\t        }else{\n");
      out.write("    \t\t\t        \trecordIds='';\n");
      out.write("    \t\t\t\t        $(\"input[name='check-data']:checked\").each(function(){\n");
      out.write("    \t\t\t\t        \trecordIds+=$(this).val()+'#';\n");
      out.write("    \t\t\t\t        });\n");
      out.write("    \t\t\t\t\t\tgoAjax(deleteBranchUrl, {\"recordIds\":recordIds}, function(data){\n");
      out.write("    \t\t\t\t\t\t\tif(data.flag==-1){\n");
      out.write("    \t\t\t\t\t\t\t\talert(data.msg);\n");
      out.write("    \t\t\t\t\t\t\t\t//刷新列表\n");
      out.write("    \t\t\t\t\t\t\t\tpagerList({});\n");
      out.write("    \t\t\t\t\t\t\t}else if(data.flag==-2){\n");
      out.write("    \t\t\t\t\t\t\t\talert(data.msg);\n");
      out.write("    \t\t\t\t\t\t\t\t//刷新列表\n");
      out.write("    \t\t\t\t\t\t\t\tpagerList({});\n");
      out.write("    \t\t\t\t\t\t\t}else if(data.flag==0){\n");
      out.write("    \t\t\t\t\t\t\t\talert(\"删除数据成功！\");\n");
      out.write("    \t\t\t\t\t\t\t\t//刷新表数据\n");
      out.write("    \t\t\t\t\t\t\t\twindow.location.reload();\n");
      out.write("    \t\t\t\t\t\t\t}else{\n");
      out.write("    \t\t\t\t\t\t\t\talert(\"删除数据失败!\");\n");
      out.write("    \t\t\t\t\t\t\t\t//刷新表数据\n");
      out.write("    \t\t\t\t\t\t\t\tpagerList({});\n");
      out.write("    \t\t\t\t\t\t\t}\n");
      out.write("    \t\t\t\t\t\t});\n");
      out.write("    \t\t\t        }\n");
      out.write("    \t\t\t\t}\n");
      out.write("    \t\t\t});\n");
      out.write("    \t\t\t\n");
      out.write("    \t\t});\n");
      out.write("    \t\t\n");
      out.write("    \t\t//生成高级查询的窗口\n");
      out.write("    \t\t\n");
      out.write("    \t\t//以下内容是动态加载下拉框、单选框、多选框数据\n");
      out.write("\n");
      out.write("\t\t\t//genSelect(webPath+\"paramitem/_pagerParamitem.html\",{\"paraValue\":\"level\"},\"branchLevel\");\n");
      out.write("\t\t\t//genSelect(webPath+\"paramitem/_pagerParamitem.html\",{\"paraValue\":\"level\"},\"branchLevel-query\");\n");
      out.write("\t\t\t//genSelect(webPath+\"paramitem/_pagerParamitem.html\",{\"paraValue\":\"\"},\"branchParentId\");\n");
      out.write("\t\t});\n");
      out.write("    </script>\n");
      out.write("</head>\n");
      out.write("<body>\n");
      out.write("\t<div class=\"container-ant\">\n");
      out.write("\t\t<div class=\"row-ant\">\n");
      out.write("\t\t\t<div class=\"col-sm-12-ant\">\n");
      out.write("\t\t\t\t<!-- 显示用户信息区域 -->\n");
      out.write("\t\t\t\t");
      if (_jspx_meth_c_005fimport_005f0(_jspx_page_context))
        return;
      out.write("\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t</div>\n");
      out.write("\t</div>\n");
      out.write("\t<div class=\"container-ant\">\n");
      out.write("\n");
      out.write("\t\t<!-- 显示导航菜单区域 -->\n");
      out.write("\t\t<div class=\"col-sm-2-ant\">\n");
      out.write("\t\t\t");
      if (_jspx_meth_c_005fimport_005f1(_jspx_page_context))
        return;
      out.write("\n");
      out.write("\t\t</div>\n");
      out.write("\n");
      out.write("\t\t<!-- 页面底部脚本区域 -->\n");
      out.write("\t\t<div class=\"col-sm-10-ant\">\n");
      out.write("\t\t\t");
      if (_jspx_meth_c_005fimport_005f2(_jspx_page_context))
        return;
      out.write("\n");
      out.write("\t\t</div>\n");
      out.write("\n");
      out.write("\t\t<!-- 条件查询区域 -->\n");
      out.write("\t\t<div class=\"col-sm-10-ant right\" id=\"content_page\">\n");
      out.write("\t\t\t<div class=\"panel panel-default query-area\">\n");
      out.write("\t\t\t\t<div class=\"panel-body\">\n");
      out.write("\t\t\t\t\t<div class=\"form-inline\">\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\n");
      out.write("\t\t\t\t\t\t\t<label for=\"branchNo-query\">机构编号 <input type=\"text\"\n");
      out.write("\t\t\t\t\t\t\t\tclass=\"form-control\" id=\"branchNo-query\"\n");
      out.write("\t\t\t\t\t\t\t\tstyle=\"margin-top: -5px\">\n");
      out.write("\t\t\t\t\t\t\t</label> <label for=\"branchName-query\">机构名字 <!-- <select  id=\"branchName-query\">\n");
      out.write("\t\t\t\t\t\t  <option value=\"\"></option>\n");
      out.write("\t\t\t\t\t\t</select> --> <input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\t\tid=\"branchName-query\" style=\"margin-top: -5px\">\n");
      out.write("\t\t\t\t\t\t\t</label>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<!-- 查询按钮 -->\n");
      out.write("\t\t\t\t\t\t<!--  <button type=\"button\" id=\"query-advance\" class=\"btn btn-default\" style=\"float:right;margin-right:30px;\">高级</button> -->\n");
      out.write("\t\t\t\t\t\t<button type=\"button\" id=\"query\" class=\"btn btn-primary\">\n");
      out.write("\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-search\" aria-hidden=\"true\"></span>\n");
      out.write("\t\t\t\t\t\t\t查&nbsp;询\n");
      out.write("\t\t\t\t\t\t</button>\n");
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<!-- 条件查询区域 end-->\n");
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t<!-- 数据显示区域 -->\n");
      out.write("\t\t\t<div class=\"panel panel-default data-area\">\n");
      out.write("\t\t\t\t<div class=\"panel-body\">\n");
      out.write("\t\t\t\t\t<div class=\"btn-group menu-lan\">\n");
      out.write("\t\t\t\t\t\t<button id=\"detail\" type=\"button\" class=\"btn btn-default btn-sm\">\n");
      out.write("\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-th\"></span> 详情\n");
      out.write("\t\t\t\t\t\t</button>\n");
      out.write("\t\t\t\t\t\t<!--<button id=\"add\" type=\"button\" class=\"btn btn-primary btn-sm\"><span class=\"glyphicon glyphicon-plus\"></span> 新增</button>\n");
      out.write("\t\t\t  <button id=\"update\" type=\"button\" class=\"btn btn-warning btn-sm\"><span class=\"glyphicon glyphicon-pencil\"></span> 编辑</button>\n");
      out.write("\t\t\t  <button id=\"update-batch\" type=\"button\" class=\"btn btn-success btn-sm\"><span class=\"glyphicon glyphicon-tasks\"> </span> 批量编辑</button>\n");
      out.write("\t\t\t  <button id=\"delete\" type=\"button\" class=\"btn btn-danger btn-sm\"><span class=\"glyphicon glyphicon-trash\"></span> 删除</button>\n");
      out.write("\t\t\t  <button id=\"import\" type=\"button\" class=\"btn btn-default btn-sm\"><span class=\"glyphicon glyphicon-file\" aria-hidden=\"true\"></span> 导入</button>\n");
      out.write("\t\t\t  <button id=\"export\" type=\"button\" class=\"btn btn-default btn-sm\"><span class=\"glyphicon glyphicon-file\" aria-hidden=\"true\"></span> 导出</button>-->\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t<!-- 数据表格 -->\n");
      out.write("\t\t\t\t\t<table id=\"tb-data\"\n");
      out.write("\t\t\t\t\t\tclass=\"table table-bordered table-striped table-hover\">\n");
      out.write("\t\t\t\t\t\t<thead>\n");
      out.write("\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t<th><input type=\"checkbox\" id=\"checkAll\"\n");
      out.write("\t\t\t\t\t\t\t\t\tonclick=\"selectAll()\" /></th>\n");
      out.write("\t\t\t\t\t\t\t\t<th class=\"tb-sort\" col=\"branchNo\">机构编号</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th class=\"tb-sort\" col=\"branchName\">机构名字</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th class=\"tb-sort\" col=\"branchContactPeople\">机构联系人</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th class=\"tb-sort\" col=\"branchContactNumber\">机构联系电话</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th class=\"tb-sort\" col=\"branchParentId\">上级机构</th>\n");
      out.write("\t\t\t\t\t\t\t\t<th class=\"tb-sort\" col=\"branchAddr\">机构地址</th>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t</thead>\n");
      out.write("\t\t\t\t\t\t<tbody>\n");
      out.write("\t\t\t\t\t\t</tbody>\n");
      out.write("\t\t\t\t\t</table>\n");
      out.write("\t\t\t\t\t<!-- 分页栏 -->\n");
      out.write("\t\t\t\t\t<div class=\"row-ant\">\n");
      out.write("\t\t\t\t\t\t<div class=\"col-sm-12-ant\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"pager-lan\" id=\"kkpager\"></div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<!-- 数据显示区域 end-->\n");
      out.write("\n");
      out.write("\t\t\t<!-- 增加时的窗口 -->\n");
      out.write("\t\t\t<div id=\"edit-win\" class=\"none\">\n");
      out.write("\t\t\t\t<input id=\"branchId\" type=\"hidden\" value=\"\">\n");
      out.write("\t\t\t\t<table class=\"table border-none\">\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构编号<span style=\"color: red\">*</span></th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchNo\" name=\"branchNo\" vtype=\"required\" vmsg=\"机构编号不能为空\"\n");
      out.write("\t\t\t\t\t\t\tunique=\"true\"></td>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构名字 <span style=\"color: red\">*</span></th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchName\" name=\"branchName\" vtype=\"required\"\n");
      out.write("\t\t\t\t\t\t\tvmsg=\"机构名字不能为空！\"></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr class=\"contactPeople\">\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构联系人</th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><select\n");
      out.write("\t\t\t\t\t\t\tclass=\"form-control branchContactPeople\" id=\"branchContactPeople\"\n");
      out.write("\t\t\t\t\t\t\tonchange=\"getValue(this.value)\" name=\"branchContactPeople\">\n");
      out.write("\t\t\t\t\t\t\t\t<option value=\"\"></option>\n");
      out.write("\t\t\t\t\t\t</select></td>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构联系电话</th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tplaceholder=\"跟机构联系人同步，无需输入\" id=\"branchContactNumber\" readonly\n");
      out.write("\t\t\t\t\t\t\tname=\"branchContactNumber\"></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构地址<span style=\"color: red\">*</span></th>\n");
      out.write("\t\t\t\t\t\t<td colspan=\"3\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchAddr\" name=\"branchAddr\" vtype=\"required\"\n");
      out.write("\t\t\t\t\t\t\tvmsg=\"机构地址不能为空\"></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr class=\"branchParent\">\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">上级机构<span style=\"color: red\">*</span></th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><select class=\"form-control branchParentId\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchParentId\" name=\"branchParentId\">\n");
      out.write("\t\t\t\t\t\t</select></td>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">末级机构</th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><select class=\"form-control\" id=\"ifLeaf\"\n");
      out.write("\t\t\t\t\t\t\tname=\"ifLeaf\" vtype=\"required\" vmsg=\"末级机构不能为空\">\n");
      out.write("\t\t\t\t\t\t\t\t<option value=\"1\">是</option>\n");
      out.write("\t\t\t\t\t\t\t\t<option value=\"0\">否</option>\n");
      out.write("\t\t\t\t\t\t</select></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<td colspan=\"4\"><button id=\"edit-win-btn\"\n");
      out.write("\t\t\t\t\t\t\t\tclass=\"btn btn-primary btn-block\">确认</button></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t</table>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<!-- 增加的窗口 end-->\n");
      out.write("\n");
      out.write("\t\t\t<!-- 编辑时的窗口 -->\n");
      out.write("\t\t\t<div id=\"edit-win-edit\" class=\"none\">\n");
      out.write("\t\t\t\t<input id=\"branchId-edit\" type=\"hidden\" value=\"\"> <input\n");
      out.write("\t\t\t\t\tid=\"oldBranchNo-edit\" type=\"hidden\" value=\"\">\n");
      out.write("\n");
      out.write("\t\t\t\t<table class=\"table border-none\">\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构编号<span style=\"color: red\">*</span></th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchNo-edit\" name=\"branchNo\" vtype=\"\" unique=\"true\">\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构名字 <span style=\"color: red\">*</span></th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchName-edit\" name=\"branchName\" vtype=\"required\"\n");
      out.write("\t\t\t\t\t\t\tvmsg=\"机构名字不能为空！\"></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr class=\"contactPeople\">\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构联系人</th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><select\n");
      out.write("\t\t\t\t\t\t\tclass=\"form-control branchContactPeople-edit\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchContactPeople-edit\" onchange=\"getValue(this.value)\"\n");
      out.write("\t\t\t\t\t\t\tname=\"branchContactPeople\">\n");
      out.write("\t\t\t\t\t\t\t\t<option value=\"\"></option>\n");
      out.write("\t\t\t\t\t\t</select></td>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构联系电话</th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tplaceholder=\"跟机构联系人同步，无需输入\" id=\"branchContactNumber-edit\"\n");
      out.write("\t\t\t\t\t\t\treadonly name=\"branchContactNumber\"></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">机构地址</th>\n");
      out.write("\t\t\t\t\t\t<td colspan=\"3\"><input type=\"text\" class=\"form-control\"\n");
      out.write("\t\t\t\t\t\t\tid=\"branchAddr-edit\" name=\"branchAddr\" vtype=\"required\"\n");
      out.write("\t\t\t\t\t\t\tvmsg=\"机构地址不能为空\"></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr class=\"branchParent\">\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">上级机构<span style=\"color: red\">*</span></th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><select\n");
      out.write("\t\t\t\t\t\t\tclass=\"form-control branchParentId-edit\" id=\"branchParentId-edit\"\n");
      out.write("\t\t\t\t\t\t\tname=\"branchParentId\" onchange=\"getBranchParent(this.value)\"\n");
      out.write("\t\t\t\t\t\t\tvtype=\"required\" vmsg=\"上级机构不能为空\">\n");
      out.write("\t\t\t\t\t\t\t\t<option value=\"0\">顶级机构</option>\n");
      out.write("\t\t\t\t\t\t</select></td>\n");
      out.write("\t\t\t\t\t\t<th width=\"20%\">末级机构</th>\n");
      out.write("\t\t\t\t\t\t<td width=\"30%\"><select class=\"form-control\" id=\"ifLeaf-edit\"\n");
      out.write("\t\t\t\t\t\t\tname=\"ifLeaf\" vtype=\"required\" vmsg=\"末级机构不能为空\">\n");
      out.write("\t\t\t\t\t\t\t\t<option value=\"1\">是</option>\n");
      out.write("\t\t\t\t\t\t\t\t<option value=\"0\">否</option>\n");
      out.write("\t\t\t\t\t\t</select></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<td colspan=\"4\"><button id=\"edit-win-submit\"\n");
      out.write("\t\t\t\t\t\t\t\tclass=\"btn btn-primary btn-block\">确认</button></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t</table>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<!-- 编辑时窗口 end-->\n");
      out.write("\n");
      out.write("\t\t\t<!-- 高级查询窗口 -->\n");
      out.write("\t\t\t<div id=\"query-advance-win\" class=\"none\"></div>\n");
      out.write("\t\t\t<!-- 高级查询窗口 end-->\n");
      out.write("\n");
      out.write("\t\t\t<!-- 批量编辑窗口 -->\n");
      out.write("\t\t\t<div id=\"batch-edit-win\" class=\"none\">\n");
      out.write("\t\t\t\t<div id=\"batch-edit-content\">\n");
      out.write("\t\t\t\t\t<table id=\"tb-batch-data\"\n");
      out.write("\t\t\t\t\t\tclass=\"table table-bordered table-striped table-hover\">\n");
      out.write("\n");
      out.write("\t\t\t\t\t</table>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div class=\"tx-right\">\n");
      out.write("\t\t\t\t\t<button id=\"batch-edit-btn-submit\" type=\"button\"\n");
      out.write("\t\t\t\t\t\tclass=\"btn btn-primary\" style=\"width: 200px !important;\">确定</button>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<!-- 批量编辑窗口 end-->\n");
      out.write("\n");
      out.write("\t\t\t<!-- 文件上传弹出框 -->\n");
      out.write("\t\t\t<div id=\"fileup-win\" class=\"none\">\n");
      out.write("\t\t\t\t<div class=\"col-md-12\">\n");
      out.write("\t\t\t\t\t<div class=\"panel\">\n");
      out.write("\t\t\t\t\t\t<div class=\"panel-heading\">\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t<span class=\"tools pull-right\"> <a\n");
      out.write("\t\t\t\t\t\t\t\tclass=\"fa fa-chevron-down\" href=\"javascript:;\"></a> <a\n");
      out.write("\t\t\t\t\t\t\t\tclass=\"fa fa-times\" href=\"javascript:;\"></a>\n");
      out.write("\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<div class=\"panel-body\">\n");
      out.write("\t\t\t\t\t\t\t<form method=\"post\" role=\"form-horizontal\"\n");
      out.write("\t\t\t\t\t\t\t\tenctype=\"multipart/form-data\" id=\"importExcel\">\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"compose-editor\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<input id=\"file\" type=\"file\" class=\"default\">\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<hr />\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"compose-btn\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"download\" class=\"btn btn-info btn-md\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-download\"></span>模板下载\n");
      out.write("\t\t\t\t\t\t\t\t\t</button>\n");
      out.write("\t\t\t\t\t\t\t\t\t<button id=\"fileimportbtn\" class=\"btn btn-primary btn-md\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-upload\"></span> 导入\n");
      out.write("\t\t\t\t\t\t\t\t\t</button>\n");
      out.write("\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-md btn-default\" id=\"clear\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-remove\"></span> 清除\n");
      out.write("\t\t\t\t\t\t\t\t\t</button>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t</form>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<!-- 文件上传弹出框 end-->\n");
      out.write("\t\t</div>\n");
      out.write("\t</div>\n");
      out.write("\n");
      out.write("</body>\n");
      out.write("</html>\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fimport_005f0(PageContext _jspx_page_context)
          throws Throwable {
    PageContext pageContext = _jspx_page_context;
    JspWriter out = _jspx_page_context.getOut();
    //  c:import
    org.apache.taglibs.standard.tag.rt.core.ImportTag _jspx_th_c_005fimport_005f0 = (org.apache.taglibs.standard.tag.rt.core.ImportTag) _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.ImportTag.class);
    _jspx_th_c_005fimport_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fimport_005f0.setParent(null);
    // /WEB-INF/pages/generated/rolem/Branch.jsp(443,4) name = url type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fimport_005f0.setUrl("/WEB-INF/pages/template/header.jsp");
    int[] _jspx_push_body_count_c_005fimport_005f0 = new int[] { 0 };
    try {
      int _jspx_eval_c_005fimport_005f0 = _jspx_th_c_005fimport_005f0.doStartTag();
      if (_jspx_th_c_005fimport_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (Throwable _jspx_exception) {
      while (_jspx_push_body_count_c_005fimport_005f0[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_c_005fimport_005f0.doCatch(_jspx_exception);
    } finally {
      _jspx_th_c_005fimport_005f0.doFinally();
      _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody.reuse(_jspx_th_c_005fimport_005f0);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fimport_005f1(PageContext _jspx_page_context)
          throws Throwable {
    PageContext pageContext = _jspx_page_context;
    JspWriter out = _jspx_page_context.getOut();
    //  c:import
    org.apache.taglibs.standard.tag.rt.core.ImportTag _jspx_th_c_005fimport_005f1 = (org.apache.taglibs.standard.tag.rt.core.ImportTag) _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.ImportTag.class);
    _jspx_th_c_005fimport_005f1.setPageContext(_jspx_page_context);
    _jspx_th_c_005fimport_005f1.setParent(null);
    // /WEB-INF/pages/generated/rolem/Branch.jsp(451,3) name = url type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fimport_005f1.setUrl("/WEB-INF/pages/template/leftmenu.jsp");
    int[] _jspx_push_body_count_c_005fimport_005f1 = new int[] { 0 };
    try {
      int _jspx_eval_c_005fimport_005f1 = _jspx_th_c_005fimport_005f1.doStartTag();
      if (_jspx_th_c_005fimport_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (Throwable _jspx_exception) {
      while (_jspx_push_body_count_c_005fimport_005f1[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_c_005fimport_005f1.doCatch(_jspx_exception);
    } finally {
      _jspx_th_c_005fimport_005f1.doFinally();
      _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody.reuse(_jspx_th_c_005fimport_005f1);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fimport_005f2(PageContext _jspx_page_context)
          throws Throwable {
    PageContext pageContext = _jspx_page_context;
    JspWriter out = _jspx_page_context.getOut();
    //  c:import
    org.apache.taglibs.standard.tag.rt.core.ImportTag _jspx_th_c_005fimport_005f2 = (org.apache.taglibs.standard.tag.rt.core.ImportTag) _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.ImportTag.class);
    _jspx_th_c_005fimport_005f2.setPageContext(_jspx_page_context);
    _jspx_th_c_005fimport_005f2.setParent(null);
    // /WEB-INF/pages/generated/rolem/Branch.jsp(456,3) name = url type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fimport_005f2.setUrl("/WEB-INF/pages/template/footer.jsp");
    int[] _jspx_push_body_count_c_005fimport_005f2 = new int[] { 0 };
    try {
      int _jspx_eval_c_005fimport_005f2 = _jspx_th_c_005fimport_005f2.doStartTag();
      if (_jspx_th_c_005fimport_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (Throwable _jspx_exception) {
      while (_jspx_push_body_count_c_005fimport_005f2[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_c_005fimport_005f2.doCatch(_jspx_exception);
    } finally {
      _jspx_th_c_005fimport_005f2.doFinally();
      _005fjspx_005ftagPool_005fc_005fimport_0026_005furl_005fnobody.reuse(_jspx_th_c_005fimport_005f2);
    }
    return false;
  }
}
